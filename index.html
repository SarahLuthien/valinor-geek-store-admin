<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel de Gerenciamento | Valinor Geek Store</title>

  <script src="https://cdn.tailwindcss.com"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;500;700&display=swap"
    rel="stylesheet">

  <link rel="shortcut icon" href="https://i.imgur.com/gY52b0d.png" type="image/x-icon">

  <link rel="stylesheet" href="./css/styles.css">
</head>

<body class="antialiased">

  <!-- CABEÇALHO -->
  <header class="bg-white shadow-md sticky top-0 z-10">
    <div
      class="container mx-auto px-4 sm:px-6 py-4 flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center sm:gap-0">
      <div class="flex items-center gap-3">
        <img src="assets/arvore_gondor.png" width="32" alt="Árvore de Gondor">
        <h1 class="text-xl sm:text-2xl font-bold whitespace-nowrap">Valinor Geek | Painel Administrativo</h1>
      </div>
      <button id="addProductBtn"
        class="bg-[var(--color-accent)] text-white font-bold py-2 px-3 sm:px-4 rounded-lg hover:opacity-90 transition-opacity text-sm sm:text-base whitespace-nowrap">
        + Adicionar Produto
      </button>
    </div>
  </header>

  <!-- CONTEÚDO PRINCIPAL -->
  <main class="container mx-auto px-6 py-8">
    <h2 class="text-3xl font-bold mb-6">Inventário de Produtos</h2>

    <!-- Tabela de Produtos -->
    <div class="bg-white rounded-lg shadow-lg overflow-x-auto">
      <table class="w-full table-auto">
        <thead class="bg-gray-100 border-b">
          <tr>
            <th class="text-left p-4 font-bold text-gray-700">Produto</th>
            <th class="text-left p-4 font-bold text-gray-700">Preço</th>
            <th class="text-center p-4 font-bold text-gray-700">Ações</th>
          </tr>
        </thead>
        <tbody id="product-table-body">
          <tr>
            <td colspan="3" class="text-center p-8 text-gray-500">Carregando produtos...</td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="bg-[var(--color-primary)] text-white text-center py-4 mt-8">
    <div class="container mx-auto">
      <p>2024 Loja fictícia. Desenvolvido por Sara Pires</p>
    </div>
  </footer>

  <!-- MODAL DE ADICIONAR/EDITAR PRODUTO -->
  <div id="productModal" aria-hidden="true" role="dialog"
    class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="bg-white rounded-lg shadow-2xl p-8 w-full max-w-md animate-fade-in-up">
      <div class="flex justify-between items-center mb-6">
        <h3 id="modalTitle" class="text-2xl font-bold">Adicionar Novo Produto</h3>
        <button id="closeModalBtn" class="text-gray-500 hover:text-gray-800 text-2xl">&times;</button>
      </div>
      <form id="productForm">
        <input type="hidden" id="productId">
        <div class="mb-4">
          <label for="name" class="block text-gray-700 font-bold mb-2">Nome do Produto</label>
          <input type="text" id="name"
            class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-secondary)]"
            required>
        </div>
        <div class="mb-4">
          <label for="price" class="block text-gray-700 font-bold mb-2">Preço (R$)</label>
          <input type="number" step="any" id="price" placeholder="Ex: 1299.90"
            class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-secondary)]"
            required>
        </div>
        <div class="mb-6">
          <label for="image" class="block text-gray-700 font-bold mb-2">URL da Imagem</label>
          <input type="url" id="image"
            class="w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-[var(--color-secondary)]"
            required>
        </div>
        <div class="flex justify-end gap-4">
          <button type="button" id="cancelModalBtn"
            class="bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors">Cancelar</button>
          <button type="submit"
            class="bg-[var(--color-accent)] text-white font-bold py-2 px-4 rounded-lg hover:opacity-90 transition-opacity">Salvar
            Produto</button>
        </div>
      </form>
    </div>
  </div>

  <!-- MODAL DE CONFIRMAÇÃO DE EXCLUSÃO -->
  <div id="deleteModal" aria-hidden="true" role="dialog"
    class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
    <div class="bg-white rounded-lg shadow-2xl p-8 w-full max-w-md text-center animate-fade-in-up">
      <h3 class="text-xl font-bold mb-4">Confirmar Exclusão</h3>
      <p id="deleteModalText" class="mb-6">Você tem certeza que deseja excluir este produto?</p>
      <div class="flex justify-center gap-4">
        <button id="cancelDeleteBtn"
          class="bg-gray-300 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors">Cancelar</button>
        <button id="confirmDeleteBtn"
          class="bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors">Confirmar
          Exclusão</button>
      </div>
    </div>
  </div>

  <!-- NOTIFICAÇÃO (Toast) -->
  <div id="toast-container" aria-live="polite" class="fixed top-5 right-5 z-50 space-y-2"></div>

  <script src="./js/admin_scripts.js" type="module"></script>
</body>

</html>